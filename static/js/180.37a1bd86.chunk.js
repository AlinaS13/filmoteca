"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[180],{713:function(e,t,n){var r=n(861),a=n(757),c=n.n(a),o=n(243);o.Z.defaults.baseURL="https://api.themoviedb.org/3/";var s="a438b3320e0856ef78f03a44c35f6579",u=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("trending/movie/day?api_key=".concat(s,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("search/movie?api_key=".concat(s,"&language=en-US&query=").concat(t,"&page=1&include_adult=false&include_adult=false"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/movie/".concat(t,"?api_key=").concat(s,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/movie/".concat(t,"/credits?api_key=").concat(s,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/movie/".concat(t,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d={getMoviesDay:u,getMoviesQuery:i,getMoviesDetails:f,getMoviesCast:l,getMoviesReviews:p};t.Z=d},180:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r,a,c,o=n(861),s=n(439),u=n(757),i=n.n(u),f=n(373),l=n(791),p=n(87),d=n(713),v=n(168),g=n(444),h=g.ZP.div(r||(r=(0,v.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),m=g.ZP.form(a||(a=(0,v.Z)(["\n  margin-top: 40px;\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  border-bottom: 2px solid #fd5103;\n  /* overflow: hidden; */\n"]))),x=g.ZP.input(c||(c=(0,v.Z)(["\n  background-color: transparent;\n  font-size: 20px;\n  border: none;\n  padding: 10px;\n  outline: none;\n  &:-webkit-autofill {\n    box-shadow: 0 0 0 30px #fff inset !important;\n  }\n  &:-webkit-autofill:hover {\n    box-shadow: 0 0 0 30px #fff inset !important;\n  }\n  &:-webkit-autofill:focus {\n    box-shadow: 0 0 0 30px #fff inset !important;\n  }\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),w=n(184);function b(){var e,t=(0,l.useState)(""),n=(0,s.Z)(t,2),r=n[0],a=n[1],c=(0,p.lr)(),u=(0,s.Z)(c,2),v=u[0],g=u[1],b=v.get("query"),y=(0,l.useState)(null!==(e=JSON.parse(localStorage.getItem("search-".concat(b))))&&void 0!==e?e:[]),Z=(0,s.Z)(y,2),k=Z[0],S=Z[1];(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.getMoviesQuery(r);case 2:t=e.sent,S(t.data.results),console.log(t.data.results),localStorage.setItem("search-".concat(r),JSON.stringify(t.data.results));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r&&(localStorage.getItem("search-".concat(r))?S(JSON.parse(localStorage.getItem("search-".concat(r)))):e())}),[r]),(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.getMoviesQuery(b);case 2:t=e.sent,S(t.data.results),console.log(t.data.results),localStorage.setItem("search-".concat(b),JSON.stringify(t.data.results));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();b&&!localStorage.getItem("search-".concat(b))&&e()}),[]);return(0,w.jsxs)(f.W2,{children:[(0,w.jsx)(h,{children:(0,w.jsxs)(m,{onSubmit:function(e){e.preventDefault(),a(e.target.searchfield.value),g({query:e.target.searchfield.value})},children:[(0,w.jsx)(x,{name:"searchfield",type:"text",autoComplete:"off",placeholder:"Search movies"}),(0,w.jsx)("button",{type:"submit",className:"button",children:"Search"})]})}),(0,w.jsx)("ul",{children:k.map((function(e){var t=e.title,n=e.id;return(0,w.jsx)("li",{children:(0,w.jsxs)(p.rU,{to:"".concat(n),state:{from:"/movies?".concat(v)},children:[t," "]})},n)}))})]})}}}]);
//# sourceMappingURL=180.37a1bd86.chunk.js.map