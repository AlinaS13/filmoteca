"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[180],{713:function(e,n,t){var r=t(861),a=t(757),i=t.n(a),s=t(243);s.Z.defaults.baseURL="https://api.themoviedb.org/3/";var o="a438b3320e0856ef78f03a44c35f6579",c=function(){var e=(0,r.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("trending/movie/day?api_key=".concat(o,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("search/movie?api_key=".concat(o,"&language=en-US&query=").concat(n,"&page=1&include_adult=false&include_adult=false"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(n,"?api_key=").concat(o,"&language=en-US"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(n,"/credits?api_key=").concat(o,"&language=en-US&page=1"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.Z.get("/movie/".concat(n,"/reviews?api_key=").concat(o,"&language=en-US&page=1"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d={getMoviesDay:c,getMoviesQuery:u,getMoviesDetails:p,getMoviesCast:f,getMoviesReviews:l};n.Z=d},180:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var r,a,i,s,o,c,u,p=t(861),f=t(439),l=t(757),d=t.n(l),g=t(373),h=t(791),m=t(87),x=t(713),v=t(168),b=t(444),w=b.ZP.div(r||(r=(0,v.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Z=b.ZP.form(a||(a=(0,v.Z)(["\n  margin-top: 40px;\n  display: flex;\n  justify-content: space-between;\n  align-items: baseline;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  border-bottom: 2px solid #fd5103;\n  margin-bottom: 40px;\n  /* overflow: hidden; */\n"]))),y=b.ZP.input(i||(i=(0,v.Z)(["\n  background-color: transparent;\n  font-size: 20px;\n  border: none;\n  padding: 10px;\n  outline: none;\n\n  &:-webkit-autofill {\n    box-shadow: 0 0 0 30px #fff inset !important;\n  }\n  &:-webkit-autofill:hover {\n    box-shadow: 0 0 0 30px #fff inset !important;\n  }\n  &:-webkit-autofill:focus {\n    box-shadow: 0 0 0 30px #fff inset !important;\n  }\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),k=b.ZP.ul(s||(s=(0,v.Z)(["\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  margin-left: auto;\n  margin-right: auto;\n"]))),S=b.ZP.li(o||(o=(0,v.Z)(["\n  /* display: flex;\n  flex-direction: column;\n  width: 100%; */\n  border-radius: 2px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n"]))),j=b.ZP.img(c||(c=(0,v.Z)(["\n  width: 100%;\n  object-fit: cover;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n"]))),_=b.ZP.p(u||(u=(0,v.Z)(["\n  text-align: center;\n  margin-bottom: 4px;\n  color: #000;\n  font-weight: 500;\n  font-size: 12px;\n  line-height: 2;\n  letter-spacing: 0.06em;\n  @media screen and (min-width: 768px) {\n    font-weight: 600;\n    font-size: 18px;\n  }\n"]))),M=t(184);function P(){var e,n=(0,h.useState)(""),t=(0,f.Z)(n,2),r=t[0],a=t[1],i=(0,m.lr)(),s=(0,f.Z)(i,2),o=s[0],c=s[1],u=o.get("query"),l=(0,h.useState)(null!==(e=JSON.parse(sessionStorage.getItem("search-".concat(u))))&&void 0!==e?e:[]),v=(0,f.Z)(l,2),b=v[0],P=v[1];(0,h.useEffect)((function(){var e=function(){var e=(0,p.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.getMoviesQuery(r);case 2:n=e.sent,P(n.data.results),sessionStorage.setItem("search-".concat(r),JSON.stringify(n.data.results));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r&&(sessionStorage.getItem("search-".concat(r))?P(JSON.parse(sessionStorage.getItem("search-".concat(r)))):e())}),[r]),(0,h.useEffect)((function(){var e=function(){var e=(0,p.Z)(d().mark((function e(){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.Z.getMoviesQuery(u);case 2:n=e.sent,P(n.data.results),sessionStorage.setItem("search-".concat(u),JSON.stringify(n.data.results));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();u&&!sessionStorage.getItem("search-".concat(u))&&e()}),[]);return(0,M.jsxs)(g.W2,{children:[(0,M.jsx)(w,{children:(0,M.jsxs)(Z,{onSubmit:function(e){e.preventDefault(),a(e.target.searchfield.value),c({query:e.target.searchfield.value})},children:[(0,M.jsx)(y,{name:"searchfield",type:"text",autoComplete:"off",placeholder:"Search movies"}),(0,M.jsx)("button",{type:"submit",className:"button",children:"Search"})]})}),(0,M.jsx)(k,{children:b.map((function(e){var n=e.title,t=e.id,r=e.poster_path;return(0,M.jsx)(S,{children:(0,M.jsxs)(m.rU,{to:"".concat(t),state:{from:"/movies?".concat(o)},children:[(0,M.jsx)(j,{src:r?"https://image.tmdb.org/t/p/w500".concat(r," "):"https://picsum.photos/500/300?image=358",alt:n,width:200,height:250}),(0,M.jsxs)(_,{children:[" ",n," "]})]})},t)}))})]})}}}]);
//# sourceMappingURL=180.aed82d3e.chunk.js.map